-- CREATING AND SELECTING THE DATABASE
CREATE DATABASE ORDER_PROCESS ;
USE ORDER_PROCESS;

-- CREATING TABLES
-- CUSTOMER
CREATE TABLE CUSTOMER (
	CUSTOMERNO VARCHAR(20) PRIMARY KEY, 
	CNAME VARCHAR(25), 
    CHECK (CUSTOMERNO LIKE 'C%') 
);
SELECT * FROM  CUSTOMER;

-- ORDER
CREATE TABLE CUST_ORDER (
	ORDERNO VARCHAR(5) PRIMARY KEY,
	ODATE DATE, 
	CUSTOMERNO VARCHAR(20), 
	ORD_AMT INT, 
    FOREIGN KEY (CUSTOMERNO) REFERENCES CUSTOMER(CUSTOMERNO), 
    CHECK(ORDERNO LIKE 'O%') 
);
SELECT * FROM  CUST_ORDER;

-- ITEM
CREATE TABLE ITEM (
	ITEMNO VARCHAR(5) PRIMARY KEY, 
	ITEM_NAME VARCHAR(30), 
	UNIT_PRICE INT, 
    CHECK (ITEMNO LIKE 'I%') 
);
SELECT * FROM  ITEM;

-- ORDER ITEM
CREATE TABLE ORDER_ITEM (
	ORDERNO VARCHAR(5) PRIMARY KEY, 
	ITEMNO VARCHAR(5), 
	QTY INT, 
	FOREIGN KEY (ORDERNO) REFERENCES CUST_ORDER(ORDERNO), 
	FOREIGN KEY (ITEMNO) REFERENCES ITEM(ITEMNO) 
);
SELECT * FROM  ORDER_ITEM;

-- INSERTING DATA INTO CREATED TABLES
-- CUSTOMER
INSERT INTO CUSTOMER VALUES (
	"C24", 
	"ANIRUDH"
);
INSERT INTO CUSTOMER VALUES (
	"C18",
	"AMAN"
);
INSERT INTO CUSTOMER VALUES (
	"C49",
	"CHIRAG"
);
INSERT INTO CUSTOMER VALUES (
	"C77",
	"YASH"
);
INSERT INTO CUSTOMER VALUES (
	"C100",
	"PRAKRITI"
);
SELECT * FROM  CUSTOMER;

-- ORDERS
INSERT INTO CUST_ORDER VALUES (
	"O1", 
	"2018-06-14", 
	"C24", 
	1999
);
INSERT INTO CUST_ORDER VALUES (
	"O2", 
	"2019-04-12", 
	"C100", 
	275
);
INSERT INTO CUST_ORDER VALUES (
	"O3", 
	"2020-10-02", 
	"C49", 
	2563
);
INSERT INTO CUST_ORDER VALUES (
	"O4", 
	"2021-06-24", 
	"C77", 
	999
);
INSERT INTO CUST_ORDER VALUES (
	"O5", 
	"2019-05-12", 
	"C18", 
	1180
);
INSERT INTO CUST_ORDER VALUES (
	"O6", 
	"2019-02-19", 
	"C49", 
	753
);
INSERT INTO CUST_ORDER VALUES (
	"O7", 
	"2021-01-23", 
	"C100", 
	99999
);
INSERT INTO CUST_ORDER VALUES (
	"O8", 
	"2020-05-12", 
	"C24", 
	200
);
INSERT INTO CUST_ORDER VALUES (
	"O9", 
	"2020-05-14", 
	"C24", 
	890
);
INSERT INTO CUST_ORDER VALUES (
	"10", 
	"2019-08-20", 
	"C24", 
	99
);
SELECT * FROM  CUST_ORDER;

-- ITEM
INSERT INTO ITEM VALUES("I01", "BISCUIT", 100);
INSERT INTO ITEM VALUES("I02", "PHONE", 9000);
INSERT INTO ITEM VALUES("I03", "BOTTLE", 500);
INSERT INTO ITEM VALUES("I04", "RECHARGE", 499);
INSERT INTO ITEM VALUES("I05", "DUSTBIN", 259);
SELECT * FROM  ITEM;

-- ORDER ITEM
INSERT INTO ORDER_ITEM VALUES("O1", "I01", 4);
INSERT INTO ORDER_ITEM VALUES("O2", "I05", 3);
INSERT INTO ORDER_ITEM VALUES("O3", "I03", 2);
INSERT INTO ORDER_ITEM VALUES("O4", "I01", 5);
INSERT INTO ORDER_ITEM VALUES("O5", "I02", 5);
INSERT INTO ORDER_ITEM VALUES("O6", "I01", 6);
INSERT INTO ORDER_ITEM VALUES("O7", "I05", 5);
INSERT INTO ORDER_ITEM VALUES("O8", "I02", 5);
INSERT INTO ORDER_ITEM VALUES("O9", "I03", 9);
INSERT INTO ORDER_ITEM VALUES("10", "I01", 1);
SELECT * FROM ORDER_ITEM;